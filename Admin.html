<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Panel de Administración | Comparatech</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="conteiner">
    <header class="header">
      <div class="logo">
        <a href="index.html"><img src="Imagenes/Logos/logo1.png" alt="logo" width="100"></a>
        <h1>Panel de Administración</h1>
      </div>
    </header>

    <main class="main-content">
      <section class="admin-section">
        <h2>Gestión de Productos</h2>

        <form id="productForm">
          <input type="text" id="nombre" placeholder="Nombre del producto" required>
          <input type="text" id="marca" placeholder="Marca" required>
          <input type="number" id="precio" placeholder="Precio (USD)" required>
          <input type="url" id="imagen" placeholder="URL de imagen">
          <button type="submit" class="submit-button">Agregar producto</button>
        </form>

        <h3>Productos Guardados</h3>
        <div id="productList" class="grid"></div>
      </section>
    </main>

    <footer class="footer">
      <p>@Derechos reservados por MONDONGO INTERACTIVE SAS</p>
    </footer>
  </div>

  <script>
  document.addEventListener("DOMContentLoaded", () => {
    const form = document.getElementById("productForm");
    const list = document.getElementById("productList");

    function renderProducts() {
      const productos = JSON.parse(localStorage.getItem("productos")) || [];
      list.innerHTML = productos.map((p, i) => `
        <div class="card">
          <img src="${p.imagen || 'Imagenes/placeholder.jpg'}" alt="${p.nombre}">
          <div class="card-content">
            <h3>${p.nombre}</h3>
            <p><strong>Marca:</strong> ${p.marca}</p>
            <p class="price">$${p.precio}</p>
            <button onclick="deleteProduct(${i})" class="submit-button" style="background:#b33;">Eliminar</button>
          </div>
        </div>
      `).join("");
    }

    form.addEventListener("submit", e => {
      e.preventDefault();
      const nuevo = {
        nombre: nombre.value,
        marca: marca.value,
        precio: precio.value,
        imagen: imagen.value
      };
      const productos = JSON.parse(localStorage.getItem("productos")) || [];
      productos.push(nuevo);
      localStorage.setItem("productos", JSON.stringify(productos));
      form.reset();
      renderProducts();
    });

    window.deleteProduct = (index) => {
      const productos = JSON.parse(localStorage.getItem("productos")) || [];
      productos.splice(index, 1);
      localStorage.setItem("productos", JSON.stringify(productos));
      renderProducts();
    };

    renderProducts();
  });
  </script>
</body>
</html>
